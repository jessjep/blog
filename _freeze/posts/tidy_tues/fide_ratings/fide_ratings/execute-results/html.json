{
  "hash": "51df037898b9cd11ba9c7ef7d5ff936d",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: \"Tidy Tuesday: FIDE Chess Ratings\"\ndate: 2025-09-24\nexecute:\n  echo: true\n  warning: false\n  message: false\nimage: \"fide_ratings.png\"\ntags: \n  - tidytuesday\n  - chess\n---\n\n\n\n![](fide_ratings.png){width=\"900\"}\n\nThis week I was curious about the size of rating changes as chess players age. I expected to see that people lose more rating points as they age, but the reality is that rating is most volatile before people turn 20.\n\n#### Code:\n\n\n\n::: {.cell}\n\n```{.r .cell-code  code-fold=\"true\" code-summary=\"Load data and libraries\"}\ntuesdata <- tidytuesdayR::tt_load(2025, week = 38)\n\nfide_ratings_august <- tuesdata$fide_ratings_august\nfide_ratings_september <- tuesdata$fide_ratings_september\n\nlibrary(tidyverse)\nlibrary(ggtext)\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code  code-fold=\"true\" code-summary=\"Wrangle the data\"}\nfide <- inner_join(fide_ratings_august, \n                   fide_ratings_september,\n                   by = c(\"name\", \"id\", \"fed\", \"sex\", \"bday\"),\n                   suffix = c(\"_aug\", \"_sep\")) %>%\n  mutate(age = 2025 - bday,\n         rating_change = rating_sep - rating_aug) %>%\n  filter(rating_change != 0,\n         games_aug > 0,\n         games_sep > 0) %>%\n  mutate(value = case_when(\n    rating_change >= 0 ~ \"Gained rating\",\n    rating_change < 0 ~ \"Lost rating\"\n  ))\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code  code-fold=\"true\" code-summary=\"Create the plot\"}\nt <- \"**Chess Rating Change by Age**\"\nst <- \"Each point represents a FIDE-rated player who<br>competed in both August and September 2025.\"\nc <- \"Created by @jessimoore.bsky.social  Source: ratings.fide.com\"\n\nbg <- \"#E2DDD5\"\ntext_color <- \"#3B2F26\"\nvalues <- c(\"#887A6E\", \"#3B2F26\")\n\nplot <- ggplot(fide,\n               aes(x = age,\n                   y = rating_change,\n                   colour = value),\n               ) +\n  geom_point(alpha = 0.15, size = 1) +\n  annotate(\"richtext\",\n         x = 65, y = 340,\n         label = t,\n         size = 7,\n         fill = bg,\n         label.color = bg,\n         color = text_color) +\n  annotate(\"richtext\",\n         x = 70, y = 290,\n         label = st,\n         fill = bg,\n         label.color = bg,\n         color = text_color) +\n  annotate(\"richtext\",\n         x = 76, y = -300,\n         label = c,\n         size = 2.5,\n         fill = bg,\n         label.color = bg,\n         color = text_color) +\n  scale_x_continuous(breaks = c(10,20,30,40,50,60,70,80,90)) +\n  scale_y_continuous(breaks = c(-250, -200, -150, -100, -50, 0, 50, 100, 150, 200, 250)) +\n  scale_color_manual(values = values) +\n  guides(color = guide_legend(override.aes = list(alpha = 1))) +\n  labs(x = \"Age\", y = \"Rating change\",\n       color = NULL) +\n  theme_minimal() +\n  theme(panel.grid = element_line(color = \"#887A6E\", linewidth = 0.05),\n        plot.title = element_text(face = \"bold\"),\n        legend.position = \"inside\",\n        legend.position.inside = c(0.84,0.765),\n        legend.text = element_text(size = 10),\n        text = element_text(color = text_color),\n        axis.text = element_text(color = text_color, size = 11),\n        axis.title = element_text(size = 12),\n        plot.background = element_rect(fill = bg),\n        panel.background = element_rect(fill = bg))\n```\n:::\n",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}